{
  "version": 3,
  "sources": ["../../../../Documents/Projeto-App/my-app - Copia %282%29 - Copia/netlify/functions/sync-leiras.ts"],
  "sourceRoot": "C:/Users/Pucci/AppData/Local/Temp/tmp-8180-HpuM1mUeL7kE",
  "sourcesContent": ["import { Handler } from \"@netlify/functions\";\r\n\r\nexport const handler: Handler = async (event) => {\r\n  const headers = {\r\n    'Access-Control-Allow-Origin': '*',\r\n    'Access-Control-Allow-Headers': 'Content-Type',\r\n    'Access-Control-Allow-Methods': 'POST, OPTIONS',\r\n  };\r\n\r\n  if (event.httpMethod === 'OPTIONS') return { statusCode: 200, headers, body: '' };\r\n\r\n  try {\r\n    const body = JSON.parse(event.body || \"{}\");\r\n    const leiras = body.leiras || [];\r\n\r\n    // SE O APP MANDOU DADOS, VAMOS VER A ESTRUTURA EXATA\r\n    if (leiras.length > 0) {\r\n      const primeiraLeira = leiras[0];\r\n      \r\n      // Retorna para o App (ou Postman) exatamente o que chegou\r\n      return {\r\n        statusCode: 200, // Retorna 200 para o App n\u00E3o dar erro de rede\r\n        headers,\r\n        body: JSON.stringify({\r\n          DEBUG: \"MODO DE TESTE ATIVADO\",\r\n          recebi_leiras: leiras.length,\r\n          chaves_da_primeira_leira: Object.keys(primeiraLeira),\r\n          conteudo_biossolidos_com_acento: primeiraLeira.bioss\u00F3lidos,\r\n          conteudo_biossolidos_sem_acento: primeiraLeira.biossolidos,\r\n          conteudo_mtrs: primeiraLeira.mtrs,\r\n          conteudo_completo_primeira_leira: primeiraLeira // Vai mostrar tudo\r\n        })\r\n      };\r\n    }\r\n\r\n    return { statusCode: 200, headers, body: JSON.stringify({ message: \"Recebi lista vazia\" }) };\r\n\r\n  } catch (error: any) {\r\n    return { statusCode: 500, headers, body: JSON.stringify({ erro: error.message }) };\r\n  }\r\n};"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,IAAM,UAAmB,OAAO,UAAU;AAC/C,QAAM,UAAU;AAAA,IACd,+BAA+B;AAAA,IAC/B,gCAAgC;AAAA,IAChC,gCAAgC;AAAA,EAClC;AAEA,MAAI,MAAM,eAAe,UAAW,QAAO,EAAE,YAAY,KAAK,SAAS,MAAM,GAAG;AAEhF,MAAI;AACF,UAAM,OAAO,KAAK,MAAM,MAAM,QAAQ,IAAI;AAC1C,UAAM,SAAS,KAAK,UAAU,CAAC;AAG/B,QAAI,OAAO,SAAS,GAAG;AACrB,YAAM,gBAAgB,OAAO,CAAC;AAG9B,aAAO;AAAA,QACL,YAAY;AAAA;AAAA,QACZ;AAAA,QACA,MAAM,KAAK,UAAU;AAAA,UACnB,OAAO;AAAA,UACP,eAAe,OAAO;AAAA,UACtB,0BAA0B,OAAO,KAAK,aAAa;AAAA,UACnD,iCAAiC,cAAc;AAAA,UAC/C,iCAAiC,cAAc;AAAA,UAC/C,eAAe,cAAc;AAAA,UAC7B,kCAAkC;AAAA;AAAA,QACpC,CAAC;AAAA,MACH;AAAA,IACF;AAEA,WAAO,EAAE,YAAY,KAAK,SAAS,MAAM,KAAK,UAAU,EAAE,SAAS,qBAAqB,CAAC,EAAE;AAAA,EAE7F,SAAS,OAAY;AACnB,WAAO,EAAE,YAAY,KAAK,SAAS,MAAM,KAAK,UAAU,EAAE,MAAM,MAAM,QAAQ,CAAC,EAAE;AAAA,EACnF;AACF;",
  "names": []
}
